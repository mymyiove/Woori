<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Woori-Learn | 학습 현황 대시보드</title>
    
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    
    <link rel="stylesheet" href="style.css">
    
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>

    <script src="https://unpkg.com/feather-icons"></script>

</head>
<body>

    <div class="blob-container">
        <div class="blob blob1"></div>
        <div class="blob blob2"></div>
    </div>

    <div id="login-container" class="container active">
        <div class="card-content">
            <div class="login-header">
                <span class="logo-icon">🚀</span>
                <h1>Woori-Learn</h1>
                <p>학습 현황을 확인하세요.</p>
            </div>
            
            <div class="form-group">
                <label for="name"><i data-feather="user"></i> 이름</label>
                <input type="text" id="name" placeholder="이름 (e.g., 홍길동)">
            </div>
            <div class="form-group">
                <label for="email"><i data-feather="mail"></i> 이메일</label>
                <input type="email" id="email" placeholder="이메일 (e.g., test@woori.com)">
            </div>
            <button id="login-btn">
                <span id="login-btn-text">내 현황 확인하기</span>
                <div id="login-loader" class="loader-small"></div>
            </button>
            <p id="login-error" class="error-msg"></p>
        </div>
    </div>

    <div id="dashboard-container" class="container">
        <div class="card-content">
            <div class="header">
                <div id="course-switcher-wrapper" class="course-switcher-wrapper">
                    <i data-feather="book-open"></i>
                    <select id="course-switcher">
                        <option>과정 로딩 중...</option>
                    </select>
                    <i data-feather="chevron-down" class="chevron-icon"></i>
                </div>
                <button id="logout-btn" title="로그아웃"><i data-feather="log-out"></i></button>
            </div>
            
            <p class="data-notice">
                <span id="course-count-notice"><i data-feather="layers"></i> 총 ...개 과정</span>
                <span id="data-date-notice"><i data-feather="clock"></i> 최신 데이터 기준</span>
            </p>

            <div class="card overview-card">
                <h4><i data-feather="user-check"></i> 나의 학습 개요</h4>
                <table class="overview-table">
                    <tbody>
                        <tr>
                            <th>학습자명</th>
                            <td id="overview-name">...</td>
                        </tr>
                        <tr>
                            <th>소속</th>
                            <td id="overview-dept">...</td>
                        </tr>
                        <tr>
                            <th>신청 과정</th>
                            <td id="overview-course">...</td>
                        </tr>
                        
                        <tr class="divider">
                            <th>이수 기준 (시간)</th>
                            <td id="overview-goal-time">... H</td>
                        </tr>
                        <tr id="overview-goal-score-row"> <th>이수 기준 (시험)</th>
                            <td id="overview-goal-score">... 점</td>
                        </tr>

                        <tr class="divider">
                            <th>나의 인정 시간</th>
                            <td id="overview-my-time" class="metric-value-small">... H</td>
                        </tr>
                        <tr id="overview-my-score-row"> <th>나의 시험 점수</th>
                            <td id="overview-my-score" class="metric-value-small">... 점</td>
                        </tr>

                        <tr class="divider">
                            <th>최종 이수 여부</th>
                            <td id="overview-status" class="status-cell">...</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card main-card">
                <h3><i data-feather="bookmark"></i> 과정 상세: <span id="course-name">...</span></h3>
                <div class="status-badge" id="status-badge">...</div>
                
                <div class="progress-section">
                    <h4>✅ 인정 시간 (16H 목표)</h4>
                    <div class="progress-bar-container">
                        <div id="time-progress-bar" class="progress-bar"></div>
                    </div>
                    <span id="recognized-time" class="progress-label">... / 16.0 H</span>
                </div>
                
                <div id="exam-metric" class="progress-section metric-item">
                    <h4>✍️ 시험 점수 (60점 목표)</h4>
                    <div class="progress-bar-container">
                        <div id="exam-progress-bar" class="progress-bar exam"></div>
                    </div>
                    <span id="exam-score" class="progress-label">... / 60 점</span>
                </div>
            </div>

            <div class="card time-card">
                <h4><i data-feather="pie-chart"></i> 📊 시간 비교</h4>
                <ul>
                    <li>
                        <span>Udemy 총 학습 시간</span>
                        <strong id="total-time">... H</strong>
                    </li>
                    <li>
                        <span>✅ 인정 시간 (이 과정)</span>
                        <strong id="recognized-time-detail">... H</strong>
                    </li>
                    <li class="warning">
                        <span>⚠️ 불인정 시간</span>
                        <strong id="unrecognized-time">... H</strong>
                    </li>
                </ul>
                <p class="note">
                    '불인정 시간'은 '총 학습 시간'에서 '이 과정의 인정 시간'을 뺀 단순 참고 값입니다.
                </p>
            </div>

            <div class="card faq-card">
                <h4><i data-feather="help-circle"></i> ❓ 자주 묻는 질문 (FAQ)</h4>
                <details>
                    <summary>Q. 왜 Udemy 시간과 인정 시간이 다른가요?</summary>
                    <p>A. '총 학습 시간'은 Udemy에서 들은 모든 시간이며, '인정 시간'은 신청하신 이 과정에 해당하는 강의만 집계된 시간입니다.</p>
                </details>
                <details>
                    <summary>Q. 어제 공부했는데 왜 시간이 안 올랐죠?</summary>
                    <p>A. 이 데이터는 실시간이 아닙니다. 관리자가 데이터를 업데이트(Push)하는 주기에 따라 반영됩니다.</p>
                </details>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>

</body>
</html>
