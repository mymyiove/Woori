/* --- 0. 기본 & 글꼴 설정 --- */
:root {
    --font-main: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
    --color-bg: #f0f2f5;
    --color-card: #ffffff;
    --color-primary: #004a9e;
    --color-woori-blue: #0099FF; /* 우리은행 스카이블루 */
    --color-accent: #00c73c;
    --color-text: #212529;
    --color-text-muted: #6c757d;
    --color-error: #d93025;
    --shadow-light: 0 4px 12px rgba(0, 0, 0, 0.05);
    --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.1);
    --border-radius: 12px;
    
    /* [!!!] (MODIFIED) v31: 헤더 높이 변수 (앵커 링크용) */
    --warning-banner-height-desktop: 44px; /* (v31) 경고 배너 높이 (데스크톱) */
    --warning-banner-height-mobile: 60px; /* (v31) 경고 배너 높이 (모바일) */
    --mobile-header-height: 120px; /* (v31) 모바일 헤더 높이 (2줄) */
    --desktop-header-height: 275px; /* (v31) 데스크톱 헤더 높이 (실측) */
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-main);
    background-color: var(--color-bg);
    color: var(--color-text);
    margin: 0;
    padding: 0; /* (v30) body 패딩 제거 */
    min-height: 100vh;
    overflow-x: hidden;
    overflow-y: auto;
    word-break: keep-all; 
}

/* --- 1. 배경 애니메이션 --- */
.blob-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; }
.blob { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.3; }
.blob1 { width: 400px; height: 400px; background: var(--color-primary); top: -100px; left: -100px; animation: move 20s infinite alternate; }
.blob2 { width: 300px; height: 300px; background: var(--color-accent); bottom: -50px; right: -50px; animation: move 25s infinite alternate-reverse; }
@keyframes move {
    from { transform: translate(0, 0) rotate(0deg); }
    to { transform: translate(200px, 100px) rotate(180deg); }
}

/* --- 2. 카드 & 컨테이너 공통 --- */
.container { 
    max-width: 100%; /* (v30) 컨테이너는 100% 너비 */
    width: 100%; 
    display: none; 
    animation: fadeIn 0.5s ease-out forwards; 
}

/* [!!!] (MODIFIED) v30: 로그인/대시보드 .active 처리 */
#login-container.container.active { 
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;
}
#dashboard-container.container.active { 
    display: block; 
}

/* (v30) card-content는 이제 로그인에서만 사용됨 */
.card-content { 
    background-color: var(--color-card); 
    border-radius: var(--border-radius); 
    box-shadow: var(--shadow-medium); 
    padding: 30px 35px; 
    z-index: 10; 
    position: relative; 
    background: rgba(255, 255, 255, 0.85); 
    backdrop-filter: blur(10px); 
    border: 1px solid rgba(255, 255, 255, 0.2); 
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.card { 
    background-color: #fcfcfc; 
    border: 1px solid #eee; 
    border-radius: var(--border-radius); 
    padding: 20px; 
    margin-bottom: 20px; 
    transition: transform 0.2s ease, box-shadow 0.2s ease; 
    /* [!!!] (MODIFIED) v31: 모바일용 앵커 마진 (요청 2) */
    scroll-margin-top: calc(var(--warning-banner-height-mobile) + var(--mobile-header-height) + 20px); /* (60 + 120 + 20 = 200px) */
}

/* --- 3. 로그인 화면 --- */
#login-container .card-content {
    width: 100%;
    max-width: 500px; 
}

.login-header { text-align: center; margin-bottom: 30px; }
.logo-icon { font-size: 3rem; display: block; animation: bounce 1s infinite alternate; }
@keyframes bounce {
    from { transform: translateY(0); }
    to { transform: translateY(-10px); }
}
.login-title { 
    color: var(--color-primary);
    margin: 10px 0 5px 0;
    font-size: 1.8rem; 
    line-height: 1.3;
}
#login-container p { font-size: 1.1em; color: var(--color-text-muted); margin: 0; }
.form-group { margin-bottom: 18px; position: relative; }
.form-group label { display: flex; align-items: center; gap: 10px; font-weight: 600; margin-bottom: 8px; color: var(--color-text); }
.form-group input { width: 100%; padding: 14px 14px 14px 16px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 1em; transition: border-color 0.2s, box-shadow 0.2s; }
.form-group input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(0, 74, 158, 0.1); }
#login-btn { 
    width: 100%; padding: 15px; font-size: 1.1em; font-weight: 700; color: #fff; background: var(--color-woori-blue); border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; display: flex; justify-content: center; align-items: center; position: relative; overflow: hidden; 
}
#login-btn:hover { 
    background: #008ae6; 
    box-shadow: 0 5px 15px rgba(0, 153, 255, 0.4);
    transform: translateY(-2px); 
}
#login-btn.loading #login-btn-text { display: none; }
#login-btn.loading #login-loader { display: block; }
.loader-small { display: none; width: 20px; height: 20px; border: 3px solid rgba(255, 255, 255, 0.5); border-top: 3px solid #fff; border-radius: 50%; animation: spin 0.8s linear infinite; }
.error-msg { color: var(--color-error); background-color: rgba(217, 48, 37, 0.1); padding: 10px; border-radius: 8px; text-align: center; margin-top: 15px; display: none; animation: shake 0.5s; }
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* --- 4. 대시보드 공통 --- */
.header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }
.header h2 { display: none; }
.data-notice { 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    font-size: 1.05em; 
    font-weight: 500; 
    color: var(--color-text-muted); 
    background-color: #f8f9fa; 
    padding: 12px 15px; 
    border-radius: 8px; 
    margin-bottom: 20px; 
}
.data-notice span { display: flex; align-items: center; gap: 6px; }

.status-badge { display: inline-block; padding: 8px 16px; border-radius: 20px; font-weight: 700; font-size: 1em; margin-bottom: 25px; animation: fadeIn 0.5s 0.2s backwards; }
.status-badge.completed { 
    background: linear-gradient(90deg, #e6f7ec, #d1f7e0); 
    color: #008a38; 
    box-shadow: 0 2px 8px rgba(0, 138, 56, 0.2); 
    /* [!!!] (NEW) v30: 이수 완료 애니메이션 */
    animation: bobbing 1s infinite ease-in-out;
}
.status-badge.in-progress { background: linear-gradient(90deg, #fff8e1, #fff0c2); color: #e6a000; box-shadow: 0 2px 8px rgba(230, 160, 0, 0.2); }
.progress-section { margin-bottom: 20px; }
.progress-section h4 { display: flex; align-items: center; gap: 10px; margin: 0 0 10px 0; font-weight: 600; }
.progress-bar-container { width: 100%; height: 20px; background-color: #e9ecef; border-radius: 10px; overflow: hidden; }
.progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--color-accent), #00e065); border-radius: 10px; transition: width 1.5s cubic-bezier(0.23, 1, 0.32, 1); box-shadow: 0 0 10px rgba(0, 199, 60, 0.5); }
.progress-bar.exam { background: linear-gradient(90deg, var(--color-primary), #006aff); box-shadow: 0 0 10px rgba(0, 74, 158, 0.5); }
.progress-label { display: block; text-align: right; font-weight: 600; font-size: 1.1em; margin-top: 8px; color: var(--color-primary); }
.progress-section.metric-item { display: block; }
.progress-section.metric-item.hidden { display: none; }

/* [!!!] (MODIFIED) v30: 카드 제목 (h4) 스타일 통일 */
.card h4 { 
    display: flex; 
    align-items: center; 
    gap: 10px; 
    margin-top: 0; 
    border-bottom: 1px solid #eee; 
    padding-bottom: 10px; 
    color: var(--color-primary);
    font-size: 1.35em; /* (v30) 폰트 크기 키움 */
}

.time-card ul { list-style: none; padding-left: 0; margin-bottom: 15px; }
.time-card li { font-size: 1.1em; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px dashed #eee; padding-bottom: 10px; }
.time-card li strong { font-size: 1.1em; }
.warning strong { color: var(--color-error); }
.note { font-size: 0.9em; color: var(--color-text-muted); background-color: #f8f9fa; padding: 12px; border-radius: 8px; border-left: 4px solid var(--color-accent); }
details { margin-bottom: 10px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
summary { cursor: pointer; font-weight: 600; padding: 5px 0; transition: color 0.2s; }
summary:hover { color: var(--color-primary); }
details[open] summary { color: var(--color-primary); }
details p { 
    margin-top: 10px; 
    padding-left: 10px; 
    border-left: 3px solid var(--color-primary); 
    font-size: 0.95em; 
    line-height: 1.7; 
}
.resources-card p, .survey-card p, .contact-card p {
    font-size: 1.05em;
    line-height: 1.6;
    color: var(--color-text-muted);
}

/* --- 5. 과정 선택 드롭다운 (v21) --- */
.course-switcher-wrapper { 
    position: relative; 
    display: flex; 
    align-items: center; 
    background-color: #f8f9fa; 
    border-radius: var(--border-radius); 
    padding: 0 10px; 
    flex-grow: 1; 
    border: 1px solid #eee;
    flex-shrink: 1; 
    min-width: 0; 
}
.course-switcher-wrapper .header-emoji { font-size: 1.2em; margin-left: 5px; }
.course-switcher-wrapper .chevron-icon { display: none; }
#course-switcher { 
    width: 100%; 
    padding: 12px 10px 12px 10px; 
    font-size: 1.15em; 
    font-weight: 700; 
    color: var(--color-primary); 
    border: none; 
    background-color: transparent; 
    cursor: pointer; 
    -webkit-appearance: menulist; 
    -moz-appearance: menulist; 
    appearance: menulist; 
    text-overflow: ellipsis; 
    white-space: nowrap; 
    overflow: hidden;
}
#course-switcher:focus { outline: none; }
#logout-btn {
    width: auto; 
    height: 44px; 
    padding: 0 15px; 
    font-size: 0.95em; 
    font-weight: 600; 
    line-height: 44px; 
    text-align: center; 
    background-color: #f0f0f0; 
    color: var(--color-text-muted); 
    border-radius: var(--border-radius); 
    flex-shrink: 0; 
    border: none; 
    cursor: pointer; 
    transition: all 0.2s ease;
}
#logout-btn:hover {
    background-color: #fbebee; 
    color: var(--color-error); 
    transform: translateY(-2px); 
    box-shadow: var(--shadow-light);
}

/* --- 6. 개요 카드 및 테이블 (v21) --- */
.overview-card h4 { margin-top: 0; margin-bottom: 15px; display: flex; align-items: center; color: var(--color-primary); }
.overview-table { width: 100%; border-collapse: collapse; font-size: 1.05em; }
.overview-table th,
.overview-table td { padding: 14px 10px; text-align: left; border-bottom: 1px solid #f0f0f0; }
.overview-table th { font-weight: 500; color: var(--color-text-muted); width: 40%; }
.overview-table td { font-weight: 600; color: var(--color-text); }
.overview-table tr.divider th,
.overview-table tr.divider td { border-top: 2px solid #e9ecef; }
.metric-value-small { font-weight: 700 !important; color: var(--color-primary) !important; }
.status-cell { font-weight: 700 !important; }
.status-cell.completed { color: #008a38; }
.status-cell.in-progress { color: #e6a000; }
.hidden-row { display: none; }

/* --- 7. 비활성 드롭다운 (v21) --- */
.course-switcher-wrapper.disabled { background-color: #f0f2f5; cursor: not-allowed; opacity: 0.8; }
.course-switcher-wrapper.disabled select { cursor: not-allowed; pointer-events: none; }

/* --- 8. 문의하기 카드 (v22) --- */
.contact-btn { display: flex; align-items: center; justify-content: center; gap: 10px; width: 100%; padding: 15px; font-size: 1.1em; font-weight: 700; color: #fff; background: linear-gradient(90deg, var(--color-primary), #006aff); border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-decoration: none; }
.contact-btn:hover { box-shadow: 0 5px 15px rgba(0, 74, 158, 0.4); transform: translateY(-2px); }
.contact-btn:disabled { background: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }


/* --- 9. 애니메이션 (v21) --- */
@keyframes running-man {
  0% { transform: translateX(-3px); }
  50% { transform: translateX(3px); }
  100% { transform: translateX(-3px); }
}
.status-badge.in-progress { 
    display: inline-block; 
    animation: running-man 1.2s infinite ease-in-out; 
}
/* [!!!] (NEW) v30: 이수 완료 배지 애니메이션 */
@keyframes bobbing {
  0% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
  100% { transform: translateY(0); }
}
.status-badge.completed {
    display: inline-block; 
    animation: bobbing 1s infinite ease-in-out; 
}

/* --- 10. (v24) 로고 헤더 (재구성) --- */
.dashboard-title-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin-bottom: 25px;
    border-bottom: 1px solid #eee;
    padding-bottom: 20px;
}
.header-udemy-logo {
    height: 40px;
    width: auto;
    margin-bottom: 15px;
}
.logo-lockup {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}
.header-woori-logo-img {
    height: 32px;
    width: auto;
    animation: logo-pulse 3s infinite ease-in-out;
}
.dashboard-subtitle {
    font-size: 1.6em; /* (v30) 폰트 키움 */
    font-weight: 700; /* (v30) 폰트 굵게 */
    color: var(--color-primary);
    text-align: center;
    margin: 0;
}
@keyframes logo-pulse {
    0%   { transform: scale(1); opacity: 1; }
    50%  { transform: scale(1.05); opacity: 0.95; }
    100% { transform: scale(1); opacity: 1; }
}


/* --- 11. (v23) 플로팅 버튼 (우리은행 파란색) --- */
.floating-action-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--color-woori-blue); 
    color: white;
    font-size: 1.1em;
    font-weight: 700;
    padding: 14px 20px;
    border-radius: 30px;
    text-decoration: none;
    box-shadow: 0 6px 20px rgba(0, 153, 255, 0.4); 
    z-index: 1000;
    transition: all 0.3s ease;
    animation: bounce-slow 2s infinite ease-in-out;
}
.floating-action-button:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 8px 25px rgba(0, 153, 255, 0.6); 
    animation-play-state: paused;
}
@keyframes bounce-slow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
}

/* --- 12. (MODIFIED) v30: 최상단 경고 배너 --- */
#global-warning-banner {
    background-color: #fff8e1; 
    border: 1px solid #e6a000;
    color: #e6a000; 
    padding: 10px 15px; /* (v30) 세로 패딩 줄임 (요청 8) */
    font-weight: 600;
    text-align: center;
    margin-bottom: 0; 
    font-size: 0.95em;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px; 
    
    position: sticky;
    top: 0;
    z-index: 1001; 
    width: 100%;
    box-sizing: border-box; 
    border-radius: 0; 
    border-left: 0;
    border-right: 0;
    
    /* [!!!] (MODIFIED) v31: 모바일 줄바꿈 수정 (요청 2) */
    flex-direction: column; /* 모바일에서 세로로 쌓기 */
    height: auto; 
    min-height: 0; /* (v30) 최소 높이 제거 (요청 8) */
}
/* (v30) 경고 배너 내부 텍스트 줄바꿈 방지 */
#global-warning-banner span {
    white-space: nowrap;
}


/* --- 13. (v25) 감사 문구 (카드 하단) --- */
.card-footer-thanks {
    font-size: 0.9em;
    color: var(--color-text-muted);
    text-align: center;
    margin-top: 30px;
    margin-bottom: -10px; 
    opacity: 0.8;
}

/* --- 14. (v24) 강조 숫자 애니메이션 --- */
#course-count-number {
    font-size: 1.25em;
    font-weight: 700;
    color: var(--color-woori-blue);
    display: inline-block;
    animation: pulse-blue 1.5s infinite ease-in-out;
    margin: 0 4px;
}

@keyframes pulse-blue {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* --- 15. (v26) FAQ 내부 링크 스타일 --- */
.faq-link {
    display: inline-block;
    background-color: #f0f2f5;
    color: var(--color-primary);
    padding: 8px 12px;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
}
.faq-link:hover {
    background-color: #e0e5eb;
    transform: translateY(-2px);
}

/* (v27) FAQ 내부 경고 텍스트 */
.faq-warning {
    color: var(--color-error);
    font-weight: 600;
    display: block; 
    margin-top: 8px;
    background-color: rgba(217, 48, 37, 0.05);
    padding: 8px;
    border-radius: 6px;
    border-left: 3px solid var(--color-error);
}

/* (v28) 카드 액션 버튼 (공용) */
.card-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-top: 20px;
}
.action-btn-primary {
    flex: 1; min-width: 150px; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 14px; font-size: 1.05em; font-weight: 700; color: #fff; background: var(--color-woori-blue); border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-decoration: none;
}
.action-btn-primary:hover {
    background: #008ae6;
    box-shadow: 0 5px 15px rgba(0, 153, 255, 0.4);
    transform: translateY(-2px);
}
.action-btn-secondary {
    flex: 1; min-width: 150px; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 14px; font-size: 1.05em; font-weight: 600; color: var(--color-text-muted); background-color: #f0f2f5; border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-decoration: none;
}
.action-btn-secondary:hover {
    background-color: #e0e5eb;
    color: var(--color-text);
    transform: translateY(-2px);
}
.action-btn-survey {
    flex: 1; min-width: 150px; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 14px; font-size: 1.05em; font-weight: 700; color: #fff; background: var(--color-woori-blue); border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-decoration: none;
}
.action-btn-survey:hover {
    background: #008ae6;
    box-shadow: 0 5px 15px rgba(0, 153, 255, 0.4);
    transform: translateY(-2px);
}

/* [!!!] (MODIFIED) v30: '빠른 메뉴' 카드 숨김 */
.quick-nav-card {
    display: none;
}


/* [!!!] (NEW) v30: 데스크톱 고정 헤더 */
#main-header {
    position: sticky;
    /* [!!!] (MODIFIED) v31: 경고 배너 '바로 아래'에 고정 */
    top: var(--warning-banner-height-desktop); 
    z-index: 900;
    
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid #eee;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    
    padding: 20px 30px;
    width: 100%;
    box-sizing: border-box; /* 패딩 포함 100% */
    
    display: none; /* 모바일에선 숨김 */
}
/* (v30) 헤더 내부 콘텐츠 (너비 제한) */
.header-content-wrapper {
    max-width: 1000px;
    margin: 0 auto;
}
/* [!!!] (MODIFIED) v31: 헤더 내부 컨트롤 (요청 1) */
.header-controls {
    display: flex;
    align-items: center; /* 수직 중앙 정렬 */
    justify-content: flex-start; /* [!!!] (v31) 왼쪽 정렬 (요청 1) */
    gap: 20px; /* [!!!] (v31) 간격 (요청 1) */
    margin-bottom: 15px;
}
.header-controls .course-switcher-wrapper {
    flex-grow: 0; /* [!!!] (v31) 늘어나지 않음 (요청 1) */
    flex-shrink: 1; 
    min-width: 0; 
    max-width: 500px; /* (v30) 최대 너비 제한 */
    height: 44px; /* [!!!] (v31) 높이 고정 (요청 1) */
}
.header-controls .data-notice {
    margin-bottom: 0; 
    flex-shrink: 0; 
    white-space: nowrap; 
    height: 44px; /* [!!!] (v31) 높이 고정 (요청 1) */
    box-sizing: border-box;
}

/* (v30) 빠른 메뉴 */
#quick-nav-bar {
    display: flex;
    gap: 10px;
    align-items: center;
    /* [!!!] (MODIFIED) v30: 가운데 정렬 (요청 6) */
    justify-content: center; 
}
.quick-nav-title {
    display: none; /* (v30) '빠른 메뉴' 텍스트 삭제 (요청 1) */
}
.action-btn-quicknav {
    font-size: 0.9em;
    font-weight: 600;
    color: var(--color-primary);
    background-color: #f0f2f5;
    padding: 6px 12px;
    border-radius: 6px;
    text-decoration: none;
    transition: all 0.2s ease;
}
.action-btn-quicknav:hover {
    background-color: #e0e5eb;
    transform: translateY(-2px);
}
#quick-nav-bar #logout-btn {
    margin-left: 20px; /* (v30) 왼쪽 자동 여백 -> 고정 여백 */
    height: 32px;
    line-height: 32px;
    padding: 0 12px;
}

/* [!!!] (NEW) v30: 메인 스크롤 콘텐츠 */
#main-content {
    max-width: 1000px;
    margin: 0 auto; /* (v30) 헤더와 분리 */
    padding: 20px; /* (v30) 모바일 좌우 여백 */
    width: 100%;
    box-sizing: border-box;
    z-index: 10; /* (v30) 배경보다 위에 있도록 */
    position: relative; /* (v30) z-index 적용 */
}

/* [!!!] (NEW) v30: 모바일 햄버거 메뉴 */
#mobile-header {
    position: sticky;
    /* [!!!] (MODIFIED) v31: 경고 배너 '바로 아래'에 고정 (요청 2) */
    top: var(--warning-banner-height-mobile); 
    left: 0;
    width: 100%;
    height: auto; /* (v30) 자동 높이 */
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    z-index: 1000; /* (v30) 플로팅 버튼보다 낮게 */
    display: flex;
    flex-direction: column; /* (v30) 세로 2줄 */
    padding: 10px 20px; /* (v30) 상하 여백 */
    box-sizing: border-box;
}
/* (v30) 모바일 헤더 1번째 줄 */
.mobile-header-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    height: 40px; /* (v30) 상단 높이 고정 */
}
.mobile-logo {
    height: 24px;
    width: auto;
}
.mobile-title {
    font-size: 1.05em; /* (v30) 긴 텍스트를 위해 폰트 축소 */
    font-weight: 600;
    color: var(--color-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: 0 10px;
}
.hamburger-btn {
    width: 30px;
    height: 30px;
    background: none;
    border: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    cursor: pointer;
    flex-shrink: 0; /* (v30) 찌그러짐 방지 */
}
.hamburger-btn span {
    width: 100%;
    height: 3px;
    background-color: var(--color-primary);
    border-radius: 2px;
    transition: all 0.3s ease;
}
/* (v30) 모바일 헤더 2번째 줄 (컨트롤) */
#mobile-header-controls {
    width: 100%;
    display: flex;
    /* [!!!] (MODIFIED) v31: (요청 4) 순서 변경 */
    flex-direction: column-reverse; 
    gap: 10px;
    padding-top: 10px; /* (v30) 상단과 여백 */
}
#mobile-header-controls .course-switcher-wrapper {
    margin-right: 0; /* (v30) 여백 제거 */
}
#mobile-header-controls .data-notice {
    margin-bottom: 0; /* (v30) 여백 제거 */
    font-size: 0.95em; /* (v30) 폰트 축소 */
    padding: 10px 15px; /* (v30) 패딩 축소 */
}

/* (v29) 모바일 오버레이 (숨겨진 메뉴) */
#mobile-nav-overlay {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5); 
    z-index: 1002;
    transform: translateX(100%); 
    transition: transform 0.3s ease-in-out;
    display: flex;
    flex-direction: column; /* (v30) 닫기 버튼을 하단에 두기 위해 */
    justify-content: flex-end; /* (v30) 메뉴를 오른쪽으로 */
}
#mobile-nav-overlay.visible {
    transform: translateX(0); 
}
#mobile-nav-content {
    width: 80%;
    max-width: 400px;
    height: 100%;
    background-color: var(--color-bg); 
    padding: 20px;
    box-sizing: border-box;
    overflow-y: auto;
    box-shadow: -5px 0 15px rgba(0,0,0,0.1);
    position: absolute;
    top: 0;
    right: 0;
    /* (v30) 닫기 버튼 공간 확보 */
    padding-bottom: 80px; 
}
.overlay-header {
    display: none; /* (v30) '전체 메뉴' 텍스트 삭제 */
}
/* [!!!] (NEW) v30: 모바일 닫기 버튼 (요청 6) */
#mobile-nav-footer {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 80%;
    max-width: 400px;
    padding: 20px;
    box-sizing: border-box;
    background: var(--color-bg);
    border-top: 1px solid #eee;
    box-shadow: -5px 0 15px rgba(0,0,0,0.1);
}
#menu-close-btn {
    background: var(--color-primary);
    color: white;
    border: none;
    width: 100%;
    padding: 14px;
    font-size: 1.1em;
    font-weight: 600;
    border-radius: var(--border-radius);
    cursor: pointer;
}

/* (v29) 모바일 메뉴 내부의 컨트롤 스타일 */
#mobile-nav-content .quick-nav-bar {
    display: flex;
    flex-direction: column; 
    gap: 10px;
    align-items: stretch; 
}
/* [!!!] (MODIFIED) v30: (요청 6, 8) */
#mobile-nav-content .quick-nav-title {
    display: none; /* 빠른 메뉴 텍스트 숨김 */
}
#mobile-nav-content .action-btn-quicknav {
    font-size: 1em; /* 폰트 축소 */
    padding: 12px;
    text-align: center;
}
#mobile-nav-content #logout-btn {
    width: 100%;
    font-size: 1em; /* 폰트 축소 */
    margin-top: 20px;
    margin-left: 0; /* (v30) 여백 초기화 */
}


/* [!!!] (NEW) v30: 미디어 쿼리 (레이아웃 전환) */
@media (max-width: 899px) {
    /* (v30) 모바일: 데스크톱 헤더 숨김 */
    #main-header {
        display: none;
    }
    
    /* (v30) 모바일: 경고 배너 줄바꿈 수정 (요청 4) */
    #global-warning-banner {
        flex-direction: column;
        gap: 4px;
        padding: 10px 15px;
        height: auto;
        min-height: var(--warning-banner-height-mobile); /* (v31) 최소 높이 */
    }
}

@media (min-width: 900px) {
    /* (v30) 데스크톱: 모바일 헤더/오버레이 숨김 */
    #mobile-header {
        display: none;
    }
    #mobile-nav-overlay {
        display: none;
    }
    
    /* (v30) 데스크톱: 고정 헤더 보임 */
    #main-header {
        display: block;
        /* [!!!] (MODIFIED) v31: 경고 배너 '바로 아래'에 고정 */
        top: var(--warning-banner-height-desktop); 
    }
    
    /* (v30) 데스크톱: 경고 배너 텍스트 정렬 */
    #global-warning-banner {
        flex-direction: row;
        justify-content: center;
        height: var(--warning-banner-height-desktop);
    }
    
    /* [!!!] (MODIFIED) v31: 데스크톱 스크롤 영역 (레이아웃 깨짐 수정) */
    #main-content {
        max-width: 1000px;
        margin: 20px auto 0 auto;
        padding: 0; /* (v31) 패딩 제거 */
        background: none;
        border: none;
        box-shadow: none;
        backdrop-filter: none;
    }
    
    /* (v30) 데스크톱: 카드 호버 효과 복원 */
    .card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-light);
    }
    
    /* [!!!] (MODIFIED) v31: 앵커 링크 마진 (데스크톱) (요청 1) */
    .card {
        scroll-margin-top: calc(var(--warning-banner-height-desktop) + var(--desktop-header-height) + 20px); 
    }

    /* (v28) 빠른 메뉴 카드 (그리드) */
    .quick-nav-card .card-actions {
        grid-template-columns: 1fr 1fr 1fr;
    }
    .quick-nav-card .action-btn-secondary {
        min-width: auto;
    }
}

/* [!!!] (NEW) v31: Footer (요청 4) */
#main-footer {
    width: 100%;
    padding: 30px 20px;
    text-align: center;
    font-size: 0.9em;
    color: var(--color-text-muted);
    opacity: 0.8;
    box-sizing: border-box;
    margin-top: 20px;
}
